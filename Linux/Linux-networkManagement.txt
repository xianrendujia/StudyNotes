=======================================================================================================
一、网络基础
=======================================================================================================
	网络7层模型
	子网掩码、网关、DNS等的作用
	... ...
	
=======================================================================================================
二、Linux网络配置
=======================================================================================================
	1、Linux系统IP地址配置方法
	（1）用 ifconfig 命令临时配置IP地址
		[root@localhost ~]# ifconfig eth0 192.168.0.200 netmask 255.255.255.0
	（2）用 setup 工具永久配置IP地址
		[root@localhost ~]# setup
		[root@localhost ~]# service network restart
	（3）修改网络配置文件
		#---网卡信息文件-----------	
		[root@localhost ~]# vi /etc/sysconfig/network-scripts/ifcfg-eth0
		DEVICE=eth0									#网卡设备名
		HWADDR=00:0C:29:4E:1B:9C					#MAC地址
		TYPE=Ethernet								#类型为以太网
		UUID=c79e7544-4657-4aba-9150-e3d89b89fdc8	#唯一识别码
		NM_CONTROLLED=yes							#是否允许NetworkManager图形管理工具托管
		IPV6INIT=no									#IPv6未启动
		PEERDNS=yes
		ONBOOT=yes									#是否随网络服务启动生效eth0
		BOOTPROTO=static							#是否自动获取ip（none|static|dhcp）
		IPADDR=192.168.1.111						#设置ip、子网掩码、网关、DNS等
		NETMASK=255.255.255.0	
		GATEWAY=192.168.1.1
		NETWORK=192.168.1.1
		DNS1=192.168.1.1
		#---主机名文件------------	
		[root@localhost ~]# vi /etc/sysconfig/network
		NETWORKING=yes								#必须yes网络才起作用
		HOSTNAME=localhost.localdomain				#主机名可修改。还可以hostname newName临时修改。
		#---DNS配置文件------------	
		[root@localhost ~]# vi /etc/resolv.conf 
		# Generated by NetworkManager
		nameserver 192.168.1.1
	（4）图形界面配置IP地址
	===========================================================
	2、虚拟机网络配置
	虚拟机的网络适配器有三种网络连接方式：
	（1）桥接模式：
	指虚拟机和真实机间通信使用真实机的网卡，虚拟机配置一个与真实机同一网段的ip地址，相当于和真实机在一个局域网。
	既能连接局域网其他机器，也能访问公网。推荐桥接模式。
	缺点是学校等环境下容易ip冲突。
	（2）NAT模式：  
	指虚拟机和真实机间通信使用VMnet8。虚拟机只能和你自己的真实机通信，不能连接局域网其他机器，但能访问公网。
	（3）仅主机模式：
	指虚拟机和真实机间通信使用VMnet1。虚拟机只能和你自己的真实机通信，不能连接局域网其他机器，也不能访问公网。
	
	
=======================================================================================================
三、Linux网络命令
=======================================================================================================
	1、网络环境查看命令
	1.1 ifconfig 命令 
	#一般用ifconfig查看ip地址和子网掩码。
	---------------------------------------------------------------------------------------
	1.2 关闭和启动网卡
	ifdown 网卡设备名   #禁用该网卡设备
	ifup   网卡设备名	#启用该网卡设备
	示例：测试关闭和启动本地网卡lo
	[root@localhost ~]# ifdown lo
	[root@localhost ~]# ifconfig
	eth0      Link encap:Ethernet  HWaddr 00:0C:29:4E:1B:9C  
			  inet addr:192.168.1.111  Bcast:192.168.1.255  Mask:255.255.255.0
			  inet6 addr: fe80::20c:29ff:fe4e:1b9c/64 Scope:Link
			  UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
			  RX packets:10225 errors:0 dropped:0 overruns:0 frame:0
			  TX packets:3807 errors:0 dropped:0 overruns:0 carrier:0
			  collisions:0 txqueuelen:1000 
			  RX bytes:763456 (745.5 KiB)  TX bytes:625910 (611.2 KiB)

	[root@localhost ~]# ifup lo
	[root@localhost ~]# ifconfig
	.. ...
	---------------------------------------------------------------------------------------
	1.3 netstat 查看网络状态
	netstat [选项]
	选项：
		-t: 列出TCP协议端口
		-u: 列出UDP协议端口
		-l: 仅列出在监听状态网络服务
		-n: 不使用域名与服务名，而是用ip地址和端口号
		-a: 列出所有的网络连接
	常用：
	netstat	-tuln
	netstat	-an
	netstat	-rn   #同下面的route -n一样，查看路由列表
	综合示例：
	[root@localhost ~]# netstat -tuln
	Active Internet connections (only servers)
	Proto Recv-Q Send-Q Local Address               Foreign Address             State      
	tcp        0      0 0.0.0.0:44163               0.0.0.0:*                   LISTEN      
	tcp        0      0 0.0.0.0:3306                0.0.0.0:*                   LISTEN      
	tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      
	tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      
	tcp        0      0 127.0.0.1:631               0.0.0.0:*                   LISTEN      
	tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN      
	tcp        0      0 :::111                      :::*                        LISTEN      
	tcp        0      0 :::80                       :::*                        LISTEN      
	tcp        0      0 :::44754                    :::*                        LISTEN      
	tcp        0      0 :::22                       :::*                        LISTEN      
	tcp        0      0 ::1:631                     :::*                        LISTEN      
	tcp        0      0 ::1:25                      :::*                        LISTEN      
	udp        0      0 0.0.0.0:111                 0.0.0.0:*                               
	udp        0      0 0.0.0.0:631                 0.0.0.0:*                               
	udp        0      0 127.0.0.1:791               0.0.0.0:*                               
	udp        0      0 0.0.0.0:51626               0.0.0.0:*                               
	udp        0      0 0.0.0.0:730                 0.0.0.0:*                               
	udp        0      0 :::111                      :::*                                    
	udp        0      0 :::36790                    :::*                                    
	udp        0      0 :::730                      :::*                                    
	[root@localhost ~]# netstat -an | grep ESTABLISHED
	tcp        0     64 192.168.1.111:22            192.168.1.106:57712         ESTABLISHED 
	[root@localhost ~]# netstat -rn
	Kernel IP routing table
	Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
	192.168.1.0     0.0.0.0         255.255.255.0   U         0 0          0 eth0
	169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0
	0.0.0.0         192.168.1.1     0.0.0.0         UG        0 0          0 eth0
	[root@localhost ~]# route -n
	Kernel IP routing table
	Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
	192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0
	169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 eth0
	0.0.0.0         192.168.1.1     0.0.0.0         UG    0      0        0 eth0
	[root@localhost ~]# 
	---------------------------------------------------------------------------------------
	1.4 route 路由命令
	route -n  							#查看路由列表（可看到网关），同上面的netstat -rn
	route add default gw 192.168.1.1    #临时设定网关
	---------------------------------------------------------------------------------------
	1.5 nslookup 域名解析命令
	nslookup [主机名或IP]   #进行域名与IP地址解析
	示例：
	[root@localhost ~]# nslookup www.imooc.com
	Server:		192.168.1.1
	Address:	192.168.1.1#53

	Non-authoritative answer:
	Name:	www.imooc.com
	Address: 115.182.41.180
	Name:	www.imooc.com
	Address: 117.121.101.40
	Name:	www.imooc.com
	Address: 117.121.101.41

	[root@localhost ~]# nslookup
	> server
	Default server: 192.168.1.1
	Address: 192.168.1.1#53
	> exit
	[root@localhost ~]#
	===========================================================
	2、网络测试命令
	2.1 ping 命令
	ping [-c] ip或域名    		#检测指定ip或域名的网络状况
	选项 -c int: 指定ping包的次数 
	[root@localhost ~]# ping 101.200.47.51
	[root@localhost ~]# ping 101.200.47.51 -c 4
	---------------------------------------------------------------------------------------
	2.2 telnet 命令	
	telnet [ip或域名] [端口]	#远程管理与端口探测	
	[root@localhost ~]# telnet 192.168.1.111 80
	---------------------------------------------------------------------------------------
	2.3 traceroute 命令	
	traceroute [-n] ip或域名	#路由跟踪命令
	选项 -n: 使用IP，不使用域名，速度更快
	[root@localhost ~]# traceroute www.163.com
	traceroute to www.163.com (14.215.100.95), 30 hops max, 60 byte packets
	 1  192.168.1.1 (192.168.1.1)  4.337 ms  4.211 ms  4.116 ms
	 2  10.0.0.1 (10.0.0.1)  4.035 ms  3.961 ms  3.888 ms
	 3  100.64.0.1 (100.64.0.1)  20.022 ms  20.110 ms  20.032 ms
	 4  202.105.152.105 (202.105.152.105)  6.753 ms  6.781 ms  6.686 ms
	 5  202.105.106.45 (202.105.106.45)  632.769 ms  632.738 ms *
	 6  * * *
	 7  * * *
	 8  183.61.220.214 (183.61.220.214)  20.384 ms 183.59.12.18 (183.59.12.18)  18.533 ms 183.61.220.206 (183.61.220.206)  18.364 ms
	 9  14.152.108.33 (14.152.108.33)  22.542 ms  22.461 ms  22.362 ms
	10  14.152.108.134 (14.152.108.134)  18.016 ms  17.898 ms  16.297 ms
	11  14.215.100.95 (14.215.100.95)  22.081 ms  22.033 ms  21.970 ms
	[root@localhost ~]# 
	---------------------------------------------------------------------------------------
	2.4 wget 命令	
	下载命令，如 wget https://github.com/phpredis/phpredis/archive/develop.zip
	---------------------------------------------------------------------------------------
	2.5 tcpdump 命令	
	tcpdump -i eth0 -nnX port 21  	#其实是个抓包命令
	选项：
		-i   指定网卡接口
		-nn  将数据包中的域名与服务转为IP和端口
		-X   以十六进制和ASCLL码显示数据包内容
		port 指定监听的端口
		
		
=======================================================================================================
四、远程登录
=======================================================================================================
	1、 SSH 协议原理
	1.1 原理简介
	对称加密算法：又名为单密钥加密算法，加密和解密都用同一个密钥。但不够安全。
	非对称加密算法：又名为公开密钥加密算法，需要公开密钥（publickey）和私有密钥（privatekey）两个密钥。	
				SSH安全外壳协议
		A---------------------------------->B
		│ 									│
		├──公钥A							├──公钥B
		└──私钥A							└──私钥B	
		+公钥B（需要先下载对方公钥）
	----------------------------------------------------------------------------------
	1.2 SSH 命令
	ssh 用户名@ip    						#远程管理指定LInux服务器
	scp [-r] 用户名@ip:文件路径  本地路径   #从指定远程服务器下载文件（目录加-r）
	scp [-r] 本地文件  用户名@ip:文件路径   #往指定远程服务器上传文件（目录加-r）
	----------------------------------------------------------------------------------
	综合示例：
	#---链接Linux服务器并下载公钥-----------	
	[root@localhost ~]# ssh root@101.200.47.51
	The authenticity of host '101.200.47.51 (101.200.47.51)' can't be established.
	RSA key fingerprint is 00:37:8c:be:ed:ab:eb:d9:a4:a4:8a:69:22:64:5e:fd.
	Are you sure you want to continue connecting (yes/no)? yes     
	Warning: Permanently added '101.200.47.51' (RSA) to the list of known hosts.
	root@101.200.47.51's password: 
	Connection closed by 101.200.47.51
	#---查看下载的公钥---------------------
	[root@localhost ~]# cd .ssh
	[root@localhost .ssh]# ls
	id_rsa  id_rsa.pub  known_hosts
	[root@localhost .ssh]# cat known_hosts 
	github.com,192.30.255.113 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAq2A7hRGmdnm9tUDbO9IDSwBK6TbQa+PXYPCPy6rbTrTtw7PHkccKrpp0yVhp5HdEIcKr6pLlVDBfOLX9QUsyCOV0wzfjIJNlGEYsdlLJizHhbn2mUjvSAHQqZETYP81eFzLQNnPHt4EVVUh7VfDESU84KezmD5QlWpXLmvU31/yMf+Se8xhHTvKSCZIFImWwoG6mbUoWf9nzpIoaSjB+weqqUUmpaaasXVal72J+UX2B+2RPW3RcT0eOzQgqlJL3RKrTJvdsjE3JEAvGq3lGHSZXy28G3skua2SmVi/w4yCE6gbODqnTWlg7+wC604ydGXA8VJiS5ap43JXiUFFAaQ==
	101.200.47.51 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAxyazXF4kh4AjZjFrvfn31gQ8IAqPaT2c8wefyPXEHlFCEXkwRCaLb+dx/mRpgJR4+7lUA+TZKzT945Wyb75Xqjd1HVqWdh3EIUZgGQZVxQaNj8IsCi2TnwOJ7oRSG5GhnMoVIoGXfHDFYk33TYjamINqqt6wOz077L4QdTh60zkecZT2Is0VYA3iRXMZ53DczpkPjSRN8CohDPB7oeQU1yUO4Wh7/vZ+7UO4saBcgsYE/Z/co9e6XvsVmR1hFHB9nAKL1tZPF6ok7H19mI9CjJ9C5jNBFniCYELoR3/VnHq0ShEylv6pKTyi13TGhqRQH1zlUWXcjtTwxe72Ii+eJQ==
	[root@localhost .ssh]# 
	#---往指定远程服务器上传文件-----------
	[root@localhost ~]# scp /root/for.log root@101.200.47.51:/root
	root@101.200.47.51's password: 
	for.log     														100% 404  0.4KB/s 00:00
	[root@localhost ~]# 
	#---从指定远程服务器下载文件-----------
	[root@localhost ~]# scp root@101.200.47.51:/root/for2.log /root
	root@101.200.47.51's password: 
	for2.log     														100% 404  0.4KB/s 00:00
	[root@localhost ~]# ls for*
	for2.log  for.log  for.sh
	[root@localhost ~]# 
	===========================================================
	2、工具介绍
	远程管理工具：SecureCRT、Xshell（推荐）、Putty
	文件传输工具：Xftp、WinSCP（推荐）
	